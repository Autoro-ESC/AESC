<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Product Manual | 产品说明书</title>
    <script>
        // 语言重定向逻辑
        function redirectToManual() {
            // 1. 获取URL中的语言参数（扫码时可带?lang=zh参数）
            const urlParams = new URLSearchParams(window.location.search);
            const langParam = urlParams.get('lang');
            
            // 2. 获取浏览器首选语言
            const browserLang = navigator.language || navigator.userLanguage;
            
            // 3. 设置PDF文件路径 (在GitHub仓库中按语言分类存储)
            //const pdfBaseUrl = "https://Autoro-ESC.github.io/AESC/USER MANUAL/";
			const pdfBaseUrl = "https://cdn.jsdelivr.net/gh/Autoro-ESC/AESC/USER MANUAL/";
            
            // 4. 支持的语言映射 (扩展更多语言在此添加)
            const supportedLangs = {
                en: 'V4&V6.7_en.pdf',
                zh: 'V4&V6.7_en.pdf',
                es: 'V4&V6.7_en.pdf',
                fr: 'V4&V6.7_en.pdf',
                ja: 'V4&V6.7_en.pdf',
                ar: 'V4&V6.7_en.pdf',
                ru: 'V4&V6.7_en.pdf',
                pt: 'V4&V6.7_en.pdf',
                de: 'V4&V6.7_en.pdf'
            };
            
            // 5. 优先使用URL参数 > 浏览器语言 > 默认英语
            let pdfKey = 'en';
            if(langParam && supportedLangs[langParam]) {
                pdfKey = langParam;
            } else {
                // 提取浏览器语言前缀 (如 zh-CN -> zh)
                const primaryLang = browserLang.split('-')[0].toLowerCase();
                if(supportedLangs[primaryLang]) {
                    pdfKey = primaryLang;
                }
            }
            
            // 6. 跳转到PDF文件
            window.location.href = pdfBaseUrl + supportedLangs[pdfKey];
        }
    </script>
    
    <!-- 加速优化 -->
    <link rel="dns-prefetch" href="https://github.com">
    <link rel="preconnect" href="https://github.githubassets.com">
    <style>
        /* 基础加载样式 */
        body {
            font-family: Arial, sans-serif;
            text-align: center;
            padding: 50px;
            background: #f5f5f5;
        }
        .loader {
            border: 8px solid #f3f3f3;
            border-top: 8px solid #3498db;
            border-radius: 50%;
            width: 60px;
            height: 60px;
            animation: spin 1s linear infinite;
            margin: 30px auto;
        }
        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }
    </style>
</head>
<body onload="redirectToManual()">
    <!-- 加载动画 -->
    <div class="loader"></div>
    <p>Loading manual... / 正在加载说明书...</p>
    
    <!-- 降级处理 -->
    <noscript>
        <div style="color:red;">
            <h2>JavaScript Required / 需要启用JavaScript</h2>
            <p>Please select manual language:</p>
            <ul>
                <li><a href="manuals/manual_en.pdf">English Manual</a></li>
                <li><a href="manuals/manual_zh.pdf">中文说明书</a></li>
                <li><a href="manuals/manual_es.pdf">Manual en Español</a></li>
                <!-- 添加更多语言链接 -->
            </ul>
        </div>
    </noscript>
</body>
</html>
